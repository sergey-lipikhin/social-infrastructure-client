import{gg as g,hh as b,hi as w,hj as z,aW as R,F,aa as u}from"./index-a6c97245.js";function U(a){return"declaredClass"in a}function c(a){return"declaredClass"in a}function v(a){return"declaredClass"in a}function O(a,t){return a?v(a)?a:new F({layer:t,sourceLayer:t,visible:a.visible,symbol:u(a.symbol),attributes:u(a.attributes),geometry:W(a.geometry)}):null}function W(a){return a==null?null:U(a)?a:g($(a))}function $(a){const{wkid:t,wkt:n,latestWkid:l}=a.spatialReference,i={wkid:t,wkt:n,latestWkid:l};switch(a.type){case"point":{const{x:s,y:r,z:e,m:o}=a;return{x:s,y:r,z:e,m:o,spatialReference:i}}case"polygon":{const{rings:s,hasZ:r,hasM:e}=a;return{rings:m(s),hasZ:r,hasM:e,spatialReference:i}}case"polyline":{const{paths:s,hasZ:r,hasM:e}=a;return{paths:m(s),hasZ:r,hasM:e,spatialReference:i}}case"extent":{const{xmin:s,xmax:r,ymin:e,ymax:o,zmin:d,zmax:y,mmin:x,mmax:M,hasZ:Z,hasM:k}=a;return{xmin:s,xmax:r,ymin:e,ymax:o,zmin:d,zmax:y,mmin:x,mmax:M,hasZ:Z,hasM:k,spatialReference:i}}case"multipoint":{const{points:s,hasZ:r,hasM:e}=a;return{points:p(s)?h(s):s,hasZ:r,hasM:e,spatialReference:i}}default:return}}function m(a){return C(a)?a.map(t=>h(t)):a}function h(a){return a.map(t=>Array.from(t))}function C(a){for(const t of a)if(t.length!==0)return p(t);return!1}function p(a){return a.length>0&&(b(a[0])||w(a[0]))}function D(a,t){if(!a)return null;let n;if(c(a)){if(t==null)return a.clone();if(c(t))return t.copy(a)}return t!=null?(n=t,n.x=a.x,n.y=a.y,n.spatialReference=a.spatialReference,a.hasZ?(n.z=a.z,n.hasZ=a.hasZ):(n.z=void 0,n.hasZ=!1),a.hasM?(n.m=a.m,n.hasM=!0):(n.m=void 0,n.hasM=!1)):(n=z(a.x,a.y,a.z,a.spatialReference),a.hasM&&(n.m=a.m,n.hasM=!0)),n}function E(a){const{wkid:t,wkt:n,latestWkid:l}=a,i={wkid:t,wkt:n,latestWkid:l};return R.fromJSON(i)}var f;(function(a){a[a.EnableFastUpdates=0]="EnableFastUpdates",a[a.DisableFastUpdates=1]="DisableFastUpdates",a[a.UpdateFastLocalOrigin=2]="UpdateFastLocalOrigin"})(f||(f={}));export{E as M,f as a,O as c,U as o,W as u,D as x};
